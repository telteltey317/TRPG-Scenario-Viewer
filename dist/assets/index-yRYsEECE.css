:root{font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0;background:#f6f7fb}a{color:inherit}.scene-detail{padding:20px 24px;overflow-y:auto;height:100%}.scene-detail input,.scene-detail select,.scene-detail textarea{width:100%;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.scene-header input{font-size:22px;border-width:0 0 1px;border-radius:0;padding:6px 0}.top-gap{margin-top:8px}.grid.triple{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));align-items:center}.chip-toggle input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#4c6fff}button.danger{background:#ffe9e6;border:1px solid #f5c2b8;color:#a33125}.eyebrow{color:#6c7a89;font-size:13px;margin-bottom:4px;letter-spacing:.04em}.scene-list{border-right:1px solid #ddd;height:100%;padding:16px;box-sizing:border-box;display:flex;flex-direction:column}.scene-list__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;position:sticky;top:0;background:#fff;padding:8px 0;z-index:5;border-bottom:1px solid #eee}.scene-list__title{display:flex;align-items:baseline;gap:8px}.scene-list__filters{display:flex;gap:8px;margin-bottom:10px;flex-wrap:wrap;position:sticky;top:56px;background:#fff;padding:6px 0;z-index:4;border-bottom:1px solid #f1f1f1}.scene-list__scroll{flex:1;overflow-y:auto;padding-top:6px}.scene-list__filters input,.scene-list__filters select{flex:1 1 140px;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px}.scene-list__filters select{flex:0 1 140px}.empty{padding:8px}.scene-list__count{color:#666;font-size:13px}.scene-list ul{list-style:none;padding:0;margin:0}.scene-list li{padding:10px 12px;margin-bottom:8px;border:1px solid #e5e5e5;border-radius:6px;cursor:pointer;transition:background .15s ease,border-color .15s ease}.scene-list li:hover{background:#f8f9fb;border-color:#d5d5d5}.scene-list li.selected{background:#eef4ff;border-color:#8aa4ff}.scene-list__title{font-weight:600;margin-bottom:4px}.scene-list__meta{display:flex;gap:8px;align-items:center;color:#555;font-size:13px}.badge{display:inline-block;padding:2px 6px;border-radius:4px;font-size:12px;text-transform:capitalize;background:#ececec}.badge-intro{background:#e0f7ff}.badge-investigation{background:#e3ffe0}.badge-combat{background:#ffe0e0}.badge-climax{background:#ffe8c2}.badge-epilogue{background:#e7e0ff}.badge-etc{background:#f0f0f0}.npc-list{border-right:1px solid #ddd;padding:16px;height:100%;box-sizing:border-box;display:flex;flex-direction:column}.npc-list__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;position:sticky;top:0;background:#fff;padding:8px 0;z-index:5;border-bottom:1px solid #eee}.npc-list__filters{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap;position:sticky;top:56px;background:#fff;padding:6px 0;z-index:4;border-bottom:1px solid #f1f1f1}.npc-list__scroll{flex:1;overflow-y:auto;padding-top:6px}.npc-list__filters input,.npc-list__filters select{flex:1 1 120px;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px}.npc-list__filters select{flex:0 1 140px}.npc-list__filters .ghost{flex:0 0 68px;padding:6px 8px;border:1px dashed transparent;color:#555}.npc-list__count{color:#666;font-size:13px}.npc-list ul{list-style:none;padding:0;margin:0}.npc-list li{border:1px solid #e5e5e5;border-radius:6px;padding:10px 12px;margin-bottom:8px;cursor:pointer;transition:background .15s ease,border-color .15s ease}.npc-list li:hover{background:#f8f9fb;border-color:#d5d5d5}.npc-list li.selected{background:#eef4ff;border-color:#8aa4ff}.npc-list__row{display:flex;align-items:center;justify-content:space-between;gap:8px}.npc-list__name{font-weight:600}.npc-list__meta{display:flex;gap:8px;font-size:13px;color:#555}.badge{display:inline-block;padding:2px 6px;border-radius:4px;font-size:12px;background:#ececec;text-transform:capitalize}.role-client{background:#e0f7ff}.role-enemy{background:#ffe0e0}.role-mob{background:#f0f0f0}.role-other{background:#e7e0ff}.muted{color:#777}.coco-panel{margin-top:16px;padding:12px 14px;border:1px solid #e2e6f0;border-radius:8px;background:#f9fbff}.coco-panel__header{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}.coco-options{display:flex;gap:12px;flex-wrap:wrap;font-size:14px}.status-text{margin-top:8px;color:#2c5282}.npc-detail{padding:20px 24px;overflow-y:auto;height:100%}.npc-detail h2 input{font-size:22px;border:none;border-bottom:1px solid #ddd;padding:4px 6px;width:100%}.npc-detail input,.npc-detail select,.npc-detail textarea{width:100%;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.input-error{border-color:#e74c3c;background:#fff6f5}.error-text{color:#e74c3c;font-size:12px;margin-top:4px}.npc-detail textarea{resize:vertical}.skill-actions{flex-wrap:wrap;width:100%;row-gap:14px;margin-bottom:16px}.skill-stack{display:flex;flex-direction:column;gap:12px;width:100%}.skill-row{display:flex;align-items:center;gap:10px;width:100%;flex-wrap:nowrap}section{margin-top:16px;border-top:1px solid #eee;padding-top:12px}.section-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}.subsection{margin-top:12px}.derived-row{display:none}.custom-calc input{max-width:160px}.calc-mult{width:80px}.custom-calc{margin-top:10px;display:flex;align-items:center;gap:10px;flex-wrap:nowrap}.extra-stat-row input{max-width:160px}.derived-stats{margin-top:10px;display:flex;flex-wrap:wrap;gap:12px 16px;font-size:14px}.derived-item{display:flex;flex-direction:column;gap:4px;min-width:160px}.derived-item input{width:160px;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.derived-item.readonly{min-width:180px}.db-value{padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;background:#f8f9ff}.grid{display:grid;gap:8px 12px}.stats-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.skill-table{width:100%;border-collapse:collapse;margin-top:8px}.skill-table th,.skill-table td{border-bottom:1px solid #eee;padding:6px}.skill-table td.num{width:80px}.skill-table td:nth-child(3) input{width:120px}.skill-table td.damage-readonly{min-width:120px;color:#8a8a8a;font-size:13px}.skill-subtitle{margin-top:16px;margin-bottom:4px}.qa-row{display:grid;grid-template-columns:1fr 1fr auto;gap:8px;margin-bottom:8px}.chips{display:flex;flex-wrap:wrap;gap:8px}.chip-toggle{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:#f2f5ff;border:1px solid #d7def8}.modal-backdrop{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:100}.modal{width:min(720px,90vw);max-height:80vh;background:#fff;border-radius:10px;box-shadow:0 12px 32px #0000002e;display:flex;flex-direction:column}.modal__header,.modal__footer{padding:12px 16px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between;gap:8px}.modal__footer{border-bottom:none;border-top:1px solid #eee}.modal__body{padding:12px 16px;overflow:auto}.template-grid{display:flex;flex-direction:column;gap:8px}.template-tile{border:1px solid #e1e4ef;border-radius:8px;padding:8px 10px;display:flex;gap:8px;align-items:center;background:#f9fbff;width:100%}.template-tile input[type=checkbox]{flex:0 0 auto;width:16px;height:16px;margin-top:0}.template-filters{display:flex;gap:8px;margin-bottom:10px}.template-filters input{flex:1;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px}.template-tile__name{font-weight:600}.template-list{padding:20px}.template-list__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.template-list__filters{margin-bottom:12px;display:flex;gap:8px}.template-list__filters input{flex:1;min-width:200px;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px}.template-list select{width:100%;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.template-list input[list]{width:100%}.template-list table{width:100%;border-collapse:collapse}.template-list th,.template-list td{border-bottom:1px solid #eee;padding:8px 6px}.template-list input{width:100%;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.template-list input[disabled]{background:#f6f6f6}.gap-sm{gap:10px}.flow-graph{border:1px solid #e2e6f0;border-radius:10px;padding:12px;margin-bottom:12px;background:#f9fbff}.flow-graph__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.node{cursor:grab}.node:active{cursor:grabbing}.node-title{font-size:13px;text-anchor:middle;fill:#1f2933}.node-type{font-size:11px;text-anchor:middle;fill:#4b5563;text-transform:uppercase}.node-intro{fill:#0ea5e9}.node-investigation{fill:#16a34a}.node-combat{fill:#ef4444}.node-climax{fill:#f59e0b}.node-epilogue{fill:#8b5cf6}.node-etc{fill:#6b7280}.edge-text{font-size:11px;fill:#4b5563;text-anchor:middle;pointer-events:none}.muted{color:#6e6e6e}.flow-view{padding:16px;height:100%;overflow:auto}.flow-controls{margin-bottom:12px}.warn-text{color:#b34700;font-size:13px;margin-top:6px}.row{display:flex;align-items:center}.gap-sm{gap:8px}.flow-controls select,.flow-controls input{padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px}.flow-controls input{width:140px}.flow-list table{width:100%;border-collapse:collapse}.flow-list th,.flow-list td{border-bottom:1px solid #eee;padding:8px 6px;vertical-align:top}.flow-list select,.flow-list input{width:100%;padding:6px 8px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.stack{display:grid;gap:6px}button.ghost{border:none;background:transparent;color:#c0392b;cursor:pointer}button.ghost:hover{text-decoration:underline}.link{cursor:pointer;color:#1f6feb}.link:hover{text-decoration:underline}.toast-stack{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:10px;z-index:20;pointer-events:none}.toast{pointer-events:auto;display:flex;align-items:center;justify-content:space-between;min-width:260px;max-width:360px;padding:10px 12px;background:#fff;border-radius:12px;box-shadow:0 8px 30px #1d29522e;border-left:4px solid #8aa4ff;color:#1b1b1f;gap:12px}.toast-success{border-color:#2f9e44}.toast-error{border-color:#d9480f}.toast__text{flex:1;font-size:14px}.toast__close{background:transparent;border:none;font-size:16px;cursor:pointer;color:#5c6270;padding:4px 6px}.meta-editor{padding:20px 24px;overflow-y:auto;height:100%}.meta-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-bottom:16px}.meta-editor input,.meta-editor textarea{width:100%;padding:8px 10px;border:1px solid #d5d7df;border-radius:6px;font-size:14px;box-sizing:border-box}.meta-editor textarea{resize:vertical}.meta-notes{display:block}.meta-notes textarea{margin-top:6px}:root{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;color:#1b1b1f;background-color:#f6f7fb;--header-height: 72px;--tabbar-height: 46px}*{box-sizing:border-box}body{margin:0}.app{display:flex;flex-direction:column;height:100vh}.app__header{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;border-bottom:1px solid #e2e2e2;background:#fff;position:sticky;top:0;z-index:10}.header-actions{display:flex;gap:10px;align-items:center}.save-chip{background:#e8f5ec;color:#1f7a3f;border:1px solid #c8e6d3;padding:6px 10px;border-radius:999px;font-size:12px}.small{font-size:12px}button,.import-button{border:1px solid #d0d7e2;background:#fff;color:#1b1b1f;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;transition:background .15s ease,border-color .15s ease}button:hover,.import-button:hover{background:#f0f4ff;border-color:#b4c4f8}.import-button{position:relative;overflow:hidden}.import-button input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}.app__body{flex:1;display:grid;grid-template-columns:320px 1fr;min-height:0;height:calc(100vh - var(--header-height) - var(--tabbar-height));background:#f6f7fb;overflow:hidden}.app__sidebar{background:#fff;border-right:1px solid #e2e2e2;position:sticky;top:0;height:100%;overflow:hidden}.app__content{background:#fff;height:100%;overflow:auto}.tab-bar{display:flex;gap:8px;padding:8px 16px;border-bottom:1px solid #e2e2e2;background:#fff;position:sticky;top:var(--header-height);z-index:9}.tab{padding:8px 12px;border:1px solid #d0d7e2;background:#fafbff;border-radius:6px;cursor:pointer}.tab.active{background:#eef4ff;border-color:#8aa4ff}.npc-panel{display:grid;grid-template-columns:320px 1fr;height:100%;min-height:0}.npc-panel__list{border-right:1px solid #e2e2e2;background:#fff;position:sticky;top:0;height:100%;overflow:auto}.npc-panel__detail{background:#fff;min-height:0;height:100%;overflow:auto}.eyebrow{color:#6c7a89;font-size:13px;margin-bottom:4px;letter-spacing:.03em}.meta{color:#535a63}.banner{padding:10px 16px;border-bottom:1px solid #e2e2e2;display:flex;align-items:center;justify-content:space-between;gap:8px}.banner-warning{background:#fff4e5;color:#7a3b00;border-color:#ffd59f}.banner-dismiss{cursor:pointer;font-weight:700}@media(max-width:1024px){.app__body{grid-template-columns:260px 1fr}}@media(max-width:768px){.app__body{grid-template-columns:1fr}.app__sidebar{height:240px;overflow-y:auto}}
